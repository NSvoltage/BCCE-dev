version: 1
workflow: "Developer Demo - Code Review Assistant"
model: "us.anthropic.claude-3-5-sonnet-20250219-v1:0"

steps:
  - id: analyze_codebase
    type: agent
    policy:
      timeout_seconds: 60  # Shorter timeout for testing
      max_files: 5   # Fewer files for faster analysis
      max_edits: 1
      allowed_paths: ["*.md", "package.json"]
      cmd_allowlist: []
    available_tools: [ReadFile]
    
  - id: run_health_check
    type: cmd
    command: "npm --prefix cli run build"
    on_error: continue